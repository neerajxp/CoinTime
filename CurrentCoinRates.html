<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Tizen basic template generated by Tizen Web IDE"/>
</head>
 <script src="./js/jquery-1.10.2.min.js"></script> 
<script language="javascript" type="text/javascript">

	 
       
    function getCurrentRates()
    {
    	$("#txtWait").show();
        $.ajax({
            type: "GET",
            url: "https://api.coinmarketcap.com/v1/ticker",
            dataType: "json",
            success: function (data) {
                debugger;
                var myJsonObject = data;
                contentType: "application/json";
                $.each(myJsonObject, function(i, mobj){
                    var crates = mobj.name;                    
                    var csymbol = mobj.symbol; 
		    		var cprice_usd = mobj.price_usd; 
		    		var c24hrchange=mobj.percent_change_24h;
		     $("#curtab").append('<tr><td><font color="#ffff00" align="center">' + csymbol + '<br>' + cprice_usd + '</font></td><td><font color="#ffff00">' + c24hrchange + '%</font></td></tr>');
                    });               
            },
            complete:function(){
            	$("#txtWait").hide();
            },
            error: function (xhr) {
                alert(xhr.responseText);
            }
        });
    }

    function closeApp()
    {
    	tizen.application.getCurrentApplication().exit();
    }
    
    function back()
    {
    	window.location.href="index.html";
    }
    
</script>
<body onload="getCurrentRates()">
    <input id="btnBack" style="font-size: xx-large;color: teal; background-color: #FFFFC0; border: 3pt ridge lightgrey" type="button" onclick="back()" align="center" value="Back" font="bold 12px Arial" />
    <input id="btnexit" style="font-size: xx-large;color: teal; background-color: #FFFFC0; border: 3pt ridge lightgrey" type="button" onclick="closeApp()" align="center" value="Exit" font="bold 12px Arial" /><br>
    <input id="txtWait" type="text" style="font-size: large;color: red; background-color: #FFFFC0; border: 3pt ridge lightgrey"  value="Loading..."/> 
    <table id="curtab" align="left" border="1" width="80%">
    	<tr>
    		<td><b><font color="#ffff00">Currency</font></b></td>
    		<td><b><font color="#ffff00">Rate($)</font></b></td>
    
    	</tr>
    </table>
</body>
</html>
